<!-- <div class="md-padding" flex layout-sm="column" >

	<md-card ng-if="vm.quoteMode=='QuickCreate'">
        <md-card-header-text></md-card-header-text>
        <md-card-content>
        	<div style="border: #ffffff">
				<ol class="progtrckr hidden-xs" data-progtrckr-steps="5" >
		    		<li class="progtrckr-done">Capture Initial Details</li>
		    		<li class="progtrckr-done">Know your customer</li>
		    		<li class="progtrckr-done">Recommendations</li>
		    		<li class="progtrckr-todo">Generate quote</li>
		    		<li class="progtrckr-todo">Generate agreement</li>
				</ol>
			</div>
		</md-card-content>
    </md-card>

    <div><h2>{{vm.quoteMode}} Quote</h2></div>

    <md-card>
		<md-card-content>
		    <form name="quoteForm">
		    	<md-tabs md-dynamic-height>
		            <md-tab>
		              	<md-tab-label>Offers & Devices</md-tab-label>
					  	<md-tab-body>
					   		<div layout="column">

							</div>
					  	</md-tab-body>
					</md-tab>
					<md-tab>
						<md-tab-label>Discount</md-tab-label>
						<md-tab-body>
							<div layout="column">

							</div>
						</md-tab-body>
					</md-tab>
					<md-tab>
						<md-tab-label>Summary</md-tab-label>
						<md-tab-body>
							<div layout="column">

							</div>
						</md-tab-body>
					</md-tab>
					<md-tab>
						<md-tab-label>Additional Details</md-tab-label>
						<md-tab-body>
							<div layout="column">
								<md-input-container>
							        <label>Assigned To Group</label>
							        <md-select ng-model="vm.quote.assignedGroup" style="width:600">
							          <md-option  value="Sales 1">Sales 1</md-option>
							          <md-option  value="Sales 2">Sales 2</md-option>
							        </md-select>
							    </md-input-container>

							    <md-input-container>
							        <label>Assigned To User</label>
							        <md-select ng-model="vm.quote.assignedUser" style="width:600">
							          <md-option  value="Exective 1">Exective 1</md-option>
							          <md-option  value="Exective 2">Exective 2</md-option>
							        </md-select>
							    </md-input-container>

							    <md-input-container>
							        <label>Created By Organization</label>
							        <md-select ng-model="vm.quote.createdByGroup" style="width:600">
							          <md-option  value="Third Party">Third Party</md-option>
							          <md-option  value="XXX">XXX</md-option>
							        </md-select>
							    </md-input-container>
							</div>
						</md-tab-body>
					</md-tab>
				</md-tabs>
			</form>
		</md-card-content>
	</md-card>
	<div layout="row" layout-align="center center">
		<md-button class="md-raised md-primary" ng-if="(vm.quoteMode=='Create')||(vm.quoteMode=='QuickCreate')" ng-click="vm.createQuote(vm.quote)">Create Quote</md-button>
		<md-button class="md-raised md-primary" ng-if="vm.quoteMode=='Update'" ng-click="vm.updateQuote(vm.quote)">Update Quote</md-button>
		<md-button class="md-raised md-primary" ng-if="vm.quoteMode=='Delete'" ng-click="vm.deleteQuote(vm.quote)">Delete Quote</md-button>
	</div>
</div> -->
<style>
	.custom-chips .md-chip .md-chip-remove-container {
		position: absolute;
		right: 4px;
		top: 4px;
		margin-right: 0;
		height: 24px;
	}

	.custom-chips .md-chip .md-chip-remove-container button.vegetablechip {
		position: relative;
		height: 24px;
		width: 24px;
		line-height: 30px;
		text-align: center;
		background: rgba(0, 0, 0, 0.3);
		border-radius: 50%;
		border: none;
		box-shadow: none;
		padding: 0;
		margin: 0;
		transition: background 0.15s linear;
		display: block;
	}

	.custom-chips .md-chip .md-chip-remove-container button.vegetablechip md-icon {
		position: absolute;
		top: 50%;
		left: 50%;
		transform: translate3d(-50%, -50%, 0) scale(0.7);
		color: white;
		fill: white;
	}

	.custom-chips .md-chips md-chip {
		padding: 0 25px 0 0;
	}

	.custom-chips .md-chip .md-chip-remove-container button.vegetablechip:hover,
	.chipsdemoBasicUsage .custom-chips .md-chip .md-chip-remove-container button.vegetablechip:focus {
		background: rgba(255, 0, 0, 0.8);
	}

	.custom-chips .md-chip:not(.md-readonly) md-chip-template {
		padding-right: 5px;
	}

	@-webkit-keyframes zoomIn {
		from {
			opacity: 0;
			-webkit-transform: scale3d(.3, .3, .3);
			transform: scale3d(.3, .3, .3);
		}
		50% {
			opacity: 1;
		}
	}

	@keyframes zoomIn {
		from {
			opacity: 0;
			-webkit-transform: scale3d(.3, .3, .3);
			transform: scale3d(.3, .3, .3);
		}
		50% {
			opacity: 1;
		}
	}

	@-webkit-keyframes zoomOut {
		from {
			opacity: 1;
		}
		50% {
			opacity: 0;
			-webkit-transform: scale3d(.3, .3, .3);
			transform: scale3d(.3, .3, .3);
		}
		to {
			opacity: 0;
		}
	}

	@keyframes zoomOut {
		from {
			opacity: 1;
		}
		50% {
			opacity: 0;
			-webkit-transform: scale3d(.3, .3, .3);
			transform: scale3d(.3, .3, .3);
		}
		to {
			opacity: 0;
		}
	}

	.md-chip.ng-enter {
		-webkit-animation-name: zoomIn;
		animation-name: zoomIn;
		-webkit-animation-duration: 1s;
		animation-duration: 1s;
		-webkit-animation: zoomIn 1s;
		animation: zoomIn 1s;
	}

	.md-chip.ng-leave {
		-webkit-animation-name: zoomOut;
		animation-name: zoomOut;
		-webkit-animation-duration: 1s;
		animation-duration: 1s;
	}
</style>

<formly-form model="vm.quote" fields="vm.quoteFields"></formly-form>

<!-- <script type="text/ng-template" id="itemsList.html">
	<md-card flex=100>
		<div style="overflow:hidden;" layout=row>
			<div flex=100 id="offerList" style="margin-right: -20px; max-width:none !important; overflow-y:scroll; overflow-x:hidden;">
				<md-list style="padding:0;">
					<md-list-item style="background:ghostwhite;" class="md-3-line" ng-repeat="item in model[options.templateOptions.itemType]" ng-click="clicked('select'+options.templateOptions.itemType+'ForDetail', item)">
						<img ng-src="app/assets/images/offerIcon.jpg" class="md-avatar" alt="{{offer}}" />
						<div class="md-list-item-text" layout="column">
							<h3>{{ item.name }}</h3>
							<h4 flex=70><b>${{ item.price }}</b></h4> -->
							<!-- <div layout="row" layout-align="start center">
							<h4 flex=70><b>${{ item.price }}</b></h4>
							<div flex=20 ng-click="$event.stopPropagation()">
								<input ng-model="item.quantity" type=number min=0 style="width:100%;">
							</div>
							<div flex=10>
							<md-icon ng-click="clicked('add'+options.templateOptions.itemType+'ToFinal',item)" aria-label="Add" class="md-secondary md-hue-3">done</md-icon>
						</div>
						</div> -->
							<!-- <p>{{ item.productType }}</p>
						</div>
						<md-divider></md-divider>
					</md-list-item>
				</md-list>
			</div>
		</div>
	</md-card>
</script> -->


<script type="text/ng-template" id="itemsList.html">
	<md-card flex=100 md-whiteframe="3" layout="column">
		<div flex="5" style="text-align:center; padding:7px; border-radius:2px; background:#2196F3; color:white;">
			<span style="font-weight: 600; letter-spacing: 2px;"> All {{options.templateOptions.itemType}}s </span>
		</div>
		<md-divider></md-divider>
		<div style="overflow:hidden;" flex="95" layout=row>
			<div flex=100 id="offerList" style="margin-right: -20px; max-width:none !important; overflow-y:scroll; overflow-x:hidden;">
				<md-list style="padding:0;">
					<md-list-item style="padding:0px;" ng-repeat="item in model[options.templateOptions.itemType]" ng-click="clicked('select'+options.templateOptions.itemType+'ForDetail', item)">
						<md-card style="height:88px; margin:4px;" layout="row" flex=100 class="md-3-line">
							<img flex=40 ng-src="{{item.imagePath}}" style="padding:5px; border-radius:8px;" alt="{{offer}}" />
							<div flex=60 style="padding:5px;" class="md-list-item-text" layout="column">
								<span layout="row" flex=50>{{item.name}}</span>
								<div layout="row" layout-align="end center" flex=50>
									<div flex=40 md-whiteframe="3" style="background:#2196F3; padding:5%; border-radius:2px; color:white; text-align:center;">${{ item.price }}</div>
								</div>
							</div>
							<md-divider></md-divider>
						</md-card>
					</md-list-item>
				</md-list>
			</div>
		</div>
	</md-card>
</script>

<!-- <script type="text/ng-template" id="itemDetail.html">
	<md-card flex=100>
		<md-card-content flex layout=column layout-fill layout-align="center center">
			<md-card flex=90 ng-repeat="item in model['selectedItem'][options.templateOptions.itemType]">
				<md-card-title>
					<md-card-title-text>
						<span class="md-headline">{{item.name}}</span>
						<span class="md-subhead">${{item.price }}</span>
					</md-card-title-text>
					<md-card-title-media>
						<div class="md-media-lg card-media"><img ng-src="https://media.licdn.com/mpr/mpr/shrinknp_200_200/AAEAAQAAAAAAAALZAAAAJGViNTRjNGVmLTlhMDUtNDEyZS04NTlmLThmMjE0ODkzNGM4NA.jpg" class="md-card-image" alt="Washed Out"></div>
					</md-card-title-media>
				</md-card-title>
				<md-card-content>
					<p>
						The titles of Washed Out's breakthrough song and the first single from Paracosm share the two most important words in Ernest Greene's musical language: feel it. It's a simple request, as well...
					</p>
				</md-card-content>
				<md-card-actions layout="row" layout-align="end center">
					<md-input-container md-theme="">
						<label for="formly_2_input_abn_0" ng-style="['input', 'textarea', 'select'].indexOf(options.type) === -1 &amp;&amp; {'font-size':'12px', 'color': 'rgb(117, 117, 117)'}" class="ng-binding">
							Quanity
						</label>
						<input ng-model="item.quantity" type=number min=0 class="ng-pristine ng-valid md-input ng-touched" aria-disabled="false" aria-invalid="false" style="">
					</md-input-container>
					<md-button class="md-primary md-raised" ng-click="clicked('add'+options.templateOptions.itemType+'ToFinal',item)">SELECT</md-button>
				</md-card-actions>
			</md-card>
		</md-card-content>
	</md-card>
</script> -->
<script type="text/ng-template" id="itemDetail.html">
	<md-card flex=100 md-whiteframe="3" layout="column">
		<div flex="5" style="text-align:center; padding:7px; border-radius:2px; background:#2196F3; color:white;">
			<span style="font-weight: 600; letter-spacing: 2px;"> {{options.templateOptions.itemType}} Detail </span>
		</div>
		<md-divider></md-divider>
		<md-content id="bottomsheet" flex=95 style="overflow:hidden;">
			<div flex=100 style="overflow:hidden;" layout="column" layout-fill ng-repeat="item in model['selectedItem'][options.templateOptions.itemType]">
				<div flex=40 style="overflow:hidden;">
					<img ng-src="{{item.imagePath}}" class="md-card-image" alt="Washed Out">
				</div>
				<md-card-title style="padding:8px;" flex=10>
					<md-text-float class="md-headline" style="font-size:25px; font-weight:900;">Red Business Grow Plan</md-text-float>
				</md-card-title>
				<md-divider></md-divider>
				<md-card-content flex=40 style="background:#f1f1f3; overflow:auto;">
					<md-list style="padding:0;">
						<md-list-item> Infinite standard text messages
							<md-divider></md-divider>
						</md-list-item>
						<md-list-item> Infinite standard national calls
							<md-divider></md-divider>
						</md-list-item>
						<md-list-item> 300 international minutes to 20 selected countries
							<md-divider></md-divider>
						</md-list-item>
						<md-list-item> 5$ Roaming
							<md-divider></md-divider>
						</md-list-item>
					</md-list>
				</md-card-content>
				<md-card-actions layout="row" layout-align="end center">
					<div>
						<md-button ng-click="showBottomSheet('add'+options.templateOptions.itemType+'ToFinal',item)" class="md-fab md-raised md-primary" aria-label="ADD">
							<md-icon>add</md-icon>
						</md-button>
					</div>
				</md-card-actions>
		</md-content>
		</div>
	</md-card>
</script>


<!-- <script type="text/ng-template" id="chips.html">
	<md-card flex=100>
		<md-card-title>
			<md-card-title-text>
				<span class="md-headline">Selected items</span>
			</md-card-title-text>
		</md-card-title>
		<md-divider></md-divider>
		<md-card-content>
			<md-chips class="custom-chips" ng-model="model['finalSelection'][options.templateOptions.itemType+'s']" md-on-remove="clicked('resetQuantity',$chip)">
				<md-chip-template>
					<span>
					<strong> {{$chip.name}}</strong>
					<em>({{$chip.quantity}})</em>
				</span>
				</md-chip-template>
				<button md-chip-remove class="md-primary vegetablechip">
					<md-icon md-svg-icon="md-close"></md-icon>
				</button>
			</md-chips>
		</md-card-content>
	</md-card>
</script> -->

<script type="text/ng-template" id="chips.html" md-whiteframe="3">
	<md-card flex=100 layout="column">
		<div flex="25" style="text-align:center; padding:7px; border-radius:2px; background:#2196F3; color:white;">
			<span style="font-weight: 600; letter-spacing: 2px;"> Selected {{options.templateOptions.itemType}}s </span>
		</div>
		<md-divider></md-divider>
		<md-card-content flex="75">
			<md-chips class="custom-chips" ng-model="model['finalSelection'][options.templateOptions.itemType+'s']" md-on-remove="clicked('resetQuantity',$chip)">
				<md-chip-template>
					<div layout="row">
						<div flex=25 class="md-contact-avatar layout-column" style=" background-image: url({{$chip.imagePath}}); background-size: cover; border-radius:40%;">
						</div>
						<div flex=75>
							<span>{{$chip.name}}({{$chip.quantity}})</span>
						</div>
					</div>
				</md-chip-template>
				<button md-chip-remove class="md-primary vegetablechip">
					<md-icon md-svg-icon="md-close"></md-icon>
				</button>
			</md-chips>
		</md-card-content>
	</md-card>
</script>

<script type="text/ng-template" id="button.html">
	<md-button class={{to.class}} ng-click='clicked(options.templateOptions.method,model)'>{{to.label}}</md-button>
</script>

<script type="text/ng-template" id="uiGrid.html">
	<div ui-grid="{enableCellEdit: true, enableFiltering: true, data: model['finalSelection']['Offer_Devices'], columnDefs: to.columnDefs, onRegisterApi: to.onRegisterApi}" ui-grid-auto-resize ui-grid-pagination ui-grid-selection ui-grid-edit ui-grid-row-edit></div>
</script>

<script type="text/ng-template" id="progressTracker.html">
	<div style="border: #ffffff">
		<ol class="progtrckr hidden-xs" data-progtrckr-steps={{to.totalSteps}}>
			<li ng-repeat="step in to.steps" class=progtrckr-{{step.status}}>{{step.label}}</li>
		</ol>
	</div>
</script>
